{"ast":null,"code":"\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\n\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _forEachInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\n\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\n\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys(object);\n\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context4, _context5;\n\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty(_context4 = ownKeys(Object(source), !0)).call(_context4, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty(_context5 = ownKeys(Object(source))).call(_context5, function (key) {\n      _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MagicWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(MagicWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super = _createSuper(MagicWeb3Connector);\n\n  function MagicWeb3Connector() {\n    var _context;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MagicWeb3Connector);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, (0, _concat.default)(_context = [this]).call(_context, args));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"type\", 'MagicLink');\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"deactivate\", /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.unsubscribeToEvents(_this.provider);\n\n              if (!_this.magicUser) {\n                _context2.next = 4;\n                break;\n              }\n\n              _context2.next = 4;\n              return _this.magicUser.user.logout();\n\n            case 4:\n              _this.account = null;\n              _this.chainId = null;\n              _this.provider = null;\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee);\n    })));\n    return _this;\n  }\n\n  (0, _createClass2.default)(MagicWeb3Connector, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var _ref2,\n            apiKey,\n            newSession,\n            email,\n            showUI,\n            redirectURI,\n            network,\n            locale,\n            extensions,\n            testMode,\n            endpoint,\n            magic,\n            ether,\n            Magic,\n            _require,\n            _window,\n            _magic,\n            _magic2,\n            _magic2$user,\n            loggedIn,\n            signer,\n            _yield$ether$getNetwo,\n            chainId,\n            address,\n            _args2 = arguments;\n\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _ref2 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, apiKey = _ref2.apiKey, newSession = _ref2.newSession, email = _ref2.email, showUI = _ref2.showUI, redirectURI = _ref2.redirectURI, network = _ref2.network, locale = _ref2.locale, extensions = _ref2.extensions, testMode = _ref2.testMode, endpoint = _ref2.endpoint;\n                magic = null;\n                ether = null;\n\n                if (email) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error('\"email\" not provided, please provide Email');\n\n              case 5:\n                if (apiKey) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                throw new Error('\"apiKey\" not provided, please provide Api Key');\n\n              case 7:\n                if (network) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                throw new Error('\"network\" not provided, please provide network');\n\n              case 9:\n                try {\n                  Magic = (_require = require('magic-sdk')) === null || _require === void 0 ? void 0 : _require.Magic;\n                } catch (error) {// Do nothing. User might not need walletconnect\n                }\n\n                if (!Magic) {\n                  Magic = (_window = window) === null || _window === void 0 ? void 0 : _window.Magic;\n                }\n\n                if (Magic) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                throw new Error('Cannot enable via MagicLink: dependency \"magic-sdk\" is missing');\n\n              case 13:\n                _context3.prev = 13;\n                magic = new Magic(apiKey, _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                  network: network\n                }, locale && {\n                  locale: locale\n                }), extensions && {\n                  extensions: extensions\n                }), testMode && {\n                  testMode: testMode\n                }), endpoint && {\n                  endpoint: endpoint\n                }));\n\n                if (!newSession) {\n                  _context3.next = 24;\n                  break;\n                }\n\n                if (!((_magic = magic) !== null && _magic !== void 0 && _magic.user)) {\n                  _context3.next = 24;\n                  break;\n                }\n\n                _context3.prev = 17;\n                _context3.next = 20;\n                return (_magic2 = magic) === null || _magic2 === void 0 ? void 0 : (_magic2$user = _magic2.user) === null || _magic2$user === void 0 ? void 0 : _magic2$user.logout();\n\n              case 20:\n                _context3.next = 24;\n                break;\n\n              case 22:\n                _context3.prev = 22;\n                _context3.t0 = _context3[\"catch\"](17);\n\n              case 24:\n                ether = new _ethers.ethers.providers.Web3Provider(magic.rpcProvider);\n                _context3.next = 27;\n                return magic.auth.loginWithMagicLink(_objectSpread(_objectSpread({\n                  email: email\n                }, showUI && {\n                  showUI: showUI\n                }), redirectURI && {\n                  redirectURI: redirectURI\n                }));\n\n              case 27:\n                _context3.next = 32;\n                break;\n\n              case 29:\n                _context3.prev = 29;\n                _context3.t1 = _context3[\"catch\"](13);\n                throw new Error('Error during enable via MagicLink, please double check network and apikey');\n\n              case 32:\n                _context3.next = 34;\n                return magic.user.isLoggedIn();\n\n              case 34:\n                loggedIn = _context3.sent;\n\n                if (!loggedIn) {\n                  _context3.next = 50;\n                  break;\n                }\n\n                signer = ether.getSigner();\n                _context3.next = 39;\n                return ether.getNetwork();\n\n              case 39:\n                _yield$ether$getNetwo = _context3.sent;\n                chainId = _yield$ether$getNetwo.chainId;\n                _context3.next = 43;\n                return signer.getAddress();\n\n              case 43:\n                address = _context3.sent.toLowerCase(); // Assign Constants\n\n                this.account = address;\n                this.provider = ether.provider;\n                this.chainId = \"0x\".concat(chainId.toString(16)); // Assign magic user for deactivation\n\n                this.magicUser = magic;\n                this.subscribeToEvents(this.provider);\n                return _context3.abrupt(\"return\", {\n                  provider: this.provider,\n                  account: this.account,\n                  chainId: this.chainId\n                });\n\n              case 50:\n                throw new Error('Error during enable via MagicLink, login to magic failed');\n\n              case 51:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this, [[13, 29], [17, 22]]);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MagicWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nexports.default = MagicWeb3Connector;","map":{"version":3,"names":["_Reflect$construct","require","_Object$keys","_Object$getOwnPropertySymbols","_filterInstanceProperty","_Object$getOwnPropertyDescriptor","_forEachInstanceProperty","_Object$getOwnPropertyDescriptors","_Object$defineProperties","_Object$defineProperty","_interopRequireDefault","exports","value","default","_regenerator","_concat","_asyncToGenerator2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_ethers","_AbstractWeb3Connector","ownKeys","object","enumerableOnly","keys","symbols","call","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","_context4","_context5","source","Object","key","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","Super","result","NewTarget","constructor","Reflect","sham","Proxy","Boolean","prototype","valueOf","e","MagicWeb3Connector","_AbstractWeb3Connecto","_super","_context","_this","_len","args","Array","_key","mark","_callee","wrap","_context2","prev","next","unsubscribeToEvents","provider","magicUser","user","logout","account","chainId","stop","_activate","_callee2","_ref2","apiKey","newSession","email","showUI","redirectURI","network","locale","extensions","testMode","endpoint","magic","ether","Magic","_require","_window","_magic","_magic2","_magic2$user","loggedIn","signer","_yield$ether$getNetwo","address","_args2","_context3","undefined","Error","error","window","t0","ethers","providers","Web3Provider","rpcProvider","auth","loginWithMagicLink","t1","isLoggedIn","sent","getSigner","getNetwork","getAddress","toLowerCase","concat","toString","subscribeToEvents","abrupt"],"sources":["/Users/romanrakhlin/Dropbox/Mac/Desktop/my-app/node_modules/moralis/lib/browser/Web3Connector/MagicWeb3Connector.js"],"sourcesContent":["\"use strict\";\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs3/core-js-stable/reflect/construct\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\n\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _forEachInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\n\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\n\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _AbstractWeb3Connector = _interopRequireDefault(require(\"./AbstractWeb3Connector\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys(object);\n\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context4, _context5;\n\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty(_context4 = ownKeys(Object(source), !0)).call(_context4, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty(_context5 = ownKeys(Object(source))).call(_context5, function (key) {\n      _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function () {\n    var Super = (0, _getPrototypeOf2.default)(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2.default)(this).constructor;\n      result = _Reflect$construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2.default)(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false;\n  if (_Reflect$construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar MagicWeb3Connector = /*#__PURE__*/function (_AbstractWeb3Connecto) {\n  (0, _inherits2.default)(MagicWeb3Connector, _AbstractWeb3Connecto);\n\n  var _super = _createSuper(MagicWeb3Connector);\n\n  function MagicWeb3Connector() {\n    var _context;\n\n    var _this;\n\n    (0, _classCallCheck2.default)(this, MagicWeb3Connector);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, (0, _concat.default)(_context = [this]).call(_context, args));\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"type\", 'MagicLink');\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"deactivate\", /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n      return _regenerator.default.wrap(function (_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.unsubscribeToEvents(_this.provider);\n\n              if (!_this.magicUser) {\n                _context2.next = 4;\n                break;\n              }\n\n              _context2.next = 4;\n              return _this.magicUser.user.logout();\n\n            case 4:\n              _this.account = null;\n              _this.chainId = null;\n              _this.provider = null;\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee);\n    })));\n    return _this;\n  }\n\n  (0, _createClass2.default)(MagicWeb3Connector, [{\n    key: \"activate\",\n    value: function () {\n      var _activate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        var _ref2,\n            apiKey,\n            newSession,\n            email,\n            showUI,\n            redirectURI,\n            network,\n            locale,\n            extensions,\n            testMode,\n            endpoint,\n            magic,\n            ether,\n            Magic,\n            _require,\n            _window,\n            _magic,\n            _magic2,\n            _magic2$user,\n            loggedIn,\n            signer,\n            _yield$ether$getNetwo,\n            chainId,\n            address,\n            _args2 = arguments;\n\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _ref2 = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, apiKey = _ref2.apiKey, newSession = _ref2.newSession, email = _ref2.email, showUI = _ref2.showUI, redirectURI = _ref2.redirectURI, network = _ref2.network, locale = _ref2.locale, extensions = _ref2.extensions, testMode = _ref2.testMode, endpoint = _ref2.endpoint;\n                magic = null;\n                ether = null;\n\n                if (email) {\n                  _context3.next = 5;\n                  break;\n                }\n\n                throw new Error('\"email\" not provided, please provide Email');\n\n              case 5:\n                if (apiKey) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                throw new Error('\"apiKey\" not provided, please provide Api Key');\n\n              case 7:\n                if (network) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                throw new Error('\"network\" not provided, please provide network');\n\n              case 9:\n                try {\n                  Magic = (_require = require('magic-sdk')) === null || _require === void 0 ? void 0 : _require.Magic;\n                } catch (error) {// Do nothing. User might not need walletconnect\n                }\n\n                if (!Magic) {\n                  Magic = (_window = window) === null || _window === void 0 ? void 0 : _window.Magic;\n                }\n\n                if (Magic) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                throw new Error('Cannot enable via MagicLink: dependency \"magic-sdk\" is missing');\n\n              case 13:\n                _context3.prev = 13;\n                magic = new Magic(apiKey, _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n                  network: network\n                }, locale && {\n                  locale: locale\n                }), extensions && {\n                  extensions: extensions\n                }), testMode && {\n                  testMode: testMode\n                }), endpoint && {\n                  endpoint: endpoint\n                }));\n\n                if (!newSession) {\n                  _context3.next = 24;\n                  break;\n                }\n\n                if (!((_magic = magic) !== null && _magic !== void 0 && _magic.user)) {\n                  _context3.next = 24;\n                  break;\n                }\n\n                _context3.prev = 17;\n                _context3.next = 20;\n                return (_magic2 = magic) === null || _magic2 === void 0 ? void 0 : (_magic2$user = _magic2.user) === null || _magic2$user === void 0 ? void 0 : _magic2$user.logout();\n\n              case 20:\n                _context3.next = 24;\n                break;\n\n              case 22:\n                _context3.prev = 22;\n                _context3.t0 = _context3[\"catch\"](17);\n\n              case 24:\n                ether = new _ethers.ethers.providers.Web3Provider(magic.rpcProvider);\n                _context3.next = 27;\n                return magic.auth.loginWithMagicLink(_objectSpread(_objectSpread({\n                  email: email\n                }, showUI && {\n                  showUI: showUI\n                }), redirectURI && {\n                  redirectURI: redirectURI\n                }));\n\n              case 27:\n                _context3.next = 32;\n                break;\n\n              case 29:\n                _context3.prev = 29;\n                _context3.t1 = _context3[\"catch\"](13);\n                throw new Error('Error during enable via MagicLink, please double check network and apikey');\n\n              case 32:\n                _context3.next = 34;\n                return magic.user.isLoggedIn();\n\n              case 34:\n                loggedIn = _context3.sent;\n\n                if (!loggedIn) {\n                  _context3.next = 50;\n                  break;\n                }\n\n                signer = ether.getSigner();\n                _context3.next = 39;\n                return ether.getNetwork();\n\n              case 39:\n                _yield$ether$getNetwo = _context3.sent;\n                chainId = _yield$ether$getNetwo.chainId;\n                _context3.next = 43;\n                return signer.getAddress();\n\n              case 43:\n                address = _context3.sent.toLowerCase(); // Assign Constants\n\n                this.account = address;\n                this.provider = ether.provider;\n                this.chainId = \"0x\".concat(chainId.toString(16)); // Assign magic user for deactivation\n\n                this.magicUser = magic;\n                this.subscribeToEvents(this.provider);\n                return _context3.abrupt(\"return\", {\n                  provider: this.provider,\n                  account: this.account,\n                  chainId: this.chainId\n                });\n\n              case 50:\n                throw new Error('Error during enable via MagicLink, login to magic failed');\n\n              case 51:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this, [[13, 29], [17, 22]]);\n      }));\n\n      return function () {\n        return _activate.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MagicWeb3Connector;\n}(_AbstractWeb3Connector.default);\n\nexports.default = MagicWeb3Connector;"],"mappings":"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"},"metadata":{},"sourceType":"script"}