import * as ethABI from "ethereumjs-abi";

const encodeCall = (abi, parameters) => {
    const inputTypes = abi.inputs.map((i) => i.type);
    const id = ethABI.methodID(abi.name, inputTypes);
    const encode = ethABI.rawEncode(inputTypes.slice(0, 3), parameters.slice(0, 3));
    return ("0x" + Buffer.concat([id, encode]).toString("hex"));
};

export default encodeCall;